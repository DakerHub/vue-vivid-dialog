(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vue-vivid-dialog"]=t(require("vue")):e["vue-vivid-dialog"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({3010:function(e,t,n){},"5bb2":function(e,t,n){"use strict";n("823f")},"823f":function(e,t,n){},8875:function(e,t,n){var i,o,r;(function(n,a){o=[],i=a,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,i,o,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,l=r.exec(p.stack)||a.exec(p.stack),c=l&&l[1]||!1,s=l&&l[2]||!1,d=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");c===d&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(i,"$1").trim());for(var f=0;f<u.length;f++){if("interactive"===u[f].readyState)return u[f];if(u[f].src===c)return u[f];if(c===d&&u[f].innerHTML&&u[f].innerHTML.trim()===o)return u[f]}return null}}return e}))},"8bbf":function(t,n){t.exports=e},d2ec:function(e,t,n){"use strict";n("3010")},fb15:function(e,t,n){"use strict";if(n.r(t),n.d(t,"MessageBox",(function(){return x})),"undefined"!==typeof window){var i=window.document.currentScript,o=n("8875");i=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var r=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(n.p=r[1])}var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"vivid",duration:600}},[e.visible?n("div",{staticClass:"vivid-dialog__wrap",style:e.wrapStyle},[n("div",{staticClass:"vivid-dialog__overlay",style:e.overlayStyle,on:{click:e.onClickOverlay}}),n("div",{ref:"dialog",staticClass:"vivid-dialog",style:e.dialogStyle},[n("div",{staticClass:"vivid-dialog__header"},[e._t("header",[n("h3",{staticClass:"vivid-dialog__title"},[e._v(e._s(e.title))])])],2),n("div",{staticClass:"vivid-dialog__content"},[e._t("default",[e._v(e._s(e.content))])],2),e.footer?n("div",{staticClass:"vivid-dialog__footer"},[e._t("footer",[e.footer.cancel?n(e.btnComponent,{tag:"component",on:{click:e.handleCancel}},[e._v("取消")]):e._e(),e.footer.ok?n(e.btnComponent,{tag:"component",attrs:{primary:"",loading:e.okLoading,disabled:e.okLoading?"disabled":void 0},on:{click:e.handleOK}},[e._v("确定")]):e._e()])],2):e._e()])]):e._e()])},l=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",e._g(e._b({class:["vivid-dialog-btn vivid-btn--default",e.primary&&"is-primary"]},"button",e.$attrs,!1),e.$listeners),[e.loading?n("span",{key:"loading"},[e._v("加载中...")]):e._t("default")],2)},s=[],d={name:"Button",props:{loading:{type:Boolean,default:!1},primary:{type:Boolean,default:!1}}},u=d;n("5bb2");function f(e,t,n,i,o,r,a,l){var c,s="function"===typeof e?e.options:e;if(t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),i&&(s.functional=!0),r&&(s._scopeId="data-v-"+r),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},s._ssrRegister=c):o&&(c=l?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(s.functional){s._injectStyles=c;var d=s.render;s.render=function(e,t){return c.call(t),d(e,t)}}else{var u=s.beforeCreate;s.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:s}}var p=f(u,c,s,!1,null,null,null),v=p.exports,y={name:"vivid-dialog",components:{"vivid-dialog-btn":v},props:{btnComponent:{type:[String,Object],default:"vivid-dialog-btn"},content:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!0},destoryOnClosed:{type:Boolean,default:!1},footer:{type:Object,default:()=>({ok:!0,cancel:!0})},maxWidth:{type:String,default:"400px"},overlay:{type:Boolean,default:!0},onOK:{type:Function,default:void 0},onCancel:{type:Function,default:void 0},title:{type:String,default:""},value:{type:Boolean,default:!1},width:{type:String,default:"400px"},zIndex:{type:Number,default:1e3}},data(){return{okLoading:!1,visible:!1}},watch:{value(e){this.clearAnimation(),this.visible=e}},computed:{wrapStyle(){return{zIndex:this.zIndex,textAlign:"left"}},dialogStyle(){return{width:this.width,maxWidth:this.maxWidth}},overlayStyle(){return{backgroundColor:this.overlay?void 0:"transparent"}}},methods:{close(){this.clearAnimation(),this.visible=!1,this.$emit("input",!1),this.destoryOnClosed&&this.$nextTick(this.$destroy)},clearAnimation(){this.$refs.dialog&&this.$refs.dialog.getAnimations().forEach(e=>{e.cancel()})},onClickOverlay(){if(this.closeOnClickOverlay&&this.close(),!this.closeOnClickOverlay&&this.visible){const e=this.$refs.dialog;e.classList.add("headShake"),e.addEventListener("animationend",()=>{e&&e.classList.remove("headShake")},{once:!0})}},handleCancel(){"function"===typeof this.onCancel?this.onCancel(this.close):this.close()},async handleOK(){if("function"===typeof this.onOK){this.okLoading=!0;try{await this.onOK(this.close)}catch(e){console.error(e)}finally{this.okLoading=!1}}else this.close()}}},h=y,m=(n("d2ec"),f(h,a,l,!1,null,null,null)),g=m.exports,_=n("8bbf"),b=n.n(_);const S=b.a.extend(g),C=function(e){if(b.a.prototype.$isServer)return;const t=Object.assign({},e,{destoryOnClosed:!0}),n=new S({el:document.createElement("div"),propsData:t});document.body.appendChild(n.$el),b.a.nextTick(()=>{n.visible=!0})};var x=C,O=g;t["default"]=O}})}));
//# sourceMappingURL=vue-vivid-dialog.umd.min.js.map